<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>FormFit AI</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
      body { font-family: 'Inter', sans-serif; background-color: #0f172a; color: white; }
      /* Custom scrollbar for logs */
      .scrollbar-hide::-webkit-scrollbar {
          display: none;
      }
      .scrollbar-hide {
          -ms-overflow-style: none;
          scrollbar-width: none;
      }

      /* --- MANNEQUIN ANIMATIONS --- */

      /* MUSCLE HEATMAP PULSE */
      /* Syncs with movement: 50% is peak contraction/effort */
      @keyframes muscle-pulse-dynamic {
        0%, 100% { 
            fill: #fb923c; /* Orange-400 (Relaxed/Eccentric) */
            filter: drop-shadow(0 0 0px transparent);
            opacity: 0.9;
        } 
        45%, 55% { 
            fill: #ef4444; /* Red-500 (Peak Concentric/Squeeze) */
            filter: drop-shadow(0 0 10px rgba(239, 68, 68, 0.8)); /* Strong heat glow */
            opacity: 1;
        } 
      }

      /* SQUAT */
      @keyframes vector-squat-hips-front {
        0%, 100% { transform: translateY(0); }
        50% { transform: translateY(35px); }
      }
      @keyframes vector-squat-hips-side {
        0%, 100% { transform: translateY(0); }
        50% { transform: translateY(70px); }
      }
      @keyframes vector-squat-thigh-left {
        0%, 100% { transform: rotate(0deg); }
        50% { transform: rotate(-55deg); }
      }
      @keyframes vector-squat-thigh-right {
        0%, 100% { transform: rotate(0deg); }
        50% { transform: rotate(55deg); }
      }
      @keyframes vector-squat-shin-left {
        0%, 100% { transform: rotate(0deg); }
        50% { transform: rotate(55deg); }
      }
      @keyframes vector-squat-shin-right {
        0%, 100% { transform: rotate(0deg); }
        50% { transform: rotate(-55deg); }
      }
      
      /* Side Squat Mechanics */
      @keyframes vector-squat-thigh-side {
        0%, 100% { transform: rotate(0deg); }
        50% { transform: rotate(-85deg); }
      }
      @keyframes vector-squat-shin-side {
        0%, 100% { transform: rotate(0deg); }
        50% { transform: rotate(85deg); }
      }
      @keyframes vector-squat-torso-side {
        0%, 100% { transform: rotate(0deg); }
        50% { transform: rotate(25deg); }
      }


      /* PUSHUP */
      @keyframes vector-pushup-body {
        0%, 100% { transform: rotate(0deg); }
        50% { transform: rotate(15deg); }
      }
      @keyframes vector-pushup-arm {
        0%, 100% { transform: rotate(0deg); }
        50% { transform: rotate(-85deg); }
      }
      @keyframes vector-pushup-forearm {
        0%, 100% { transform: rotate(0deg); }
        50% { transform: rotate(140deg); }
      }
      @keyframes vector-pushup-arm-left {
         0%, 100% { transform: rotate(-135deg); }
         50% { transform: rotate(-165deg); }
      }
      @keyframes vector-pushup-arm-right {
         0%, 100% { transform: rotate(-45deg); }
         50% { transform: rotate(-15deg); }
      }


      /* LUNGE */
      @keyframes vector-lunge-drop {
        0%, 100% { transform: translateY(0); }
        50% { transform: translateY(70px); }
      }
      @keyframes vector-lunge-front-thigh {
        0%, 100% { transform: rotate(0deg); }
        50% { transform: rotate(-90deg); }
      }
      @keyframes vector-lunge-front-shin {
        0%, 100% { transform: rotate(0deg); }
        50% { transform: rotate(90deg); }
      }
      @keyframes vector-lunge-back-thigh {
        0%, 100% { transform: rotate(0deg); }
        50% { transform: rotate(30deg); }
      }
      @keyframes vector-lunge-back-shin {
        0%, 100% { transform: rotate(0deg); }
        50% { transform: rotate(50deg); }
      }

      /* CURL - HOLD AT TOP */
      @keyframes vector-curl-lower {
        0%, 100% { transform: rotate(0deg); animation-timing-function: cubic-bezier(0.4, 0, 0.2, 1); } /* Hang */
        45%, 55% { transform: rotate(-140deg); animation-timing-function: cubic-bezier(0.4, 0, 0.2, 1); } /* Squeeze Hold */
      }

      /* TRICEP EXTENSION - HOLD AT TOP */
      /* 0% = Down/Tucked behind head, 50% = Up/Extended */
      @keyframes vector-tricep-forearm {
        0%, 100% { transform: rotate(30deg); animation-timing-function: cubic-bezier(0.4, 0, 0.2, 1); } /* Deep stretch behind head */
        45%, 55% { transform: rotate(178deg); animation-timing-function: cubic-bezier(0.4, 0, 0.2, 1); } /* Lockout hold overhead */
      }

      /* PLANK */
      @keyframes vector-plank-hover {
        0%, 100% { transform: translateY(0); }
        50% { transform: translateY(3px); }
      }

    </style>
  <script type="importmap">
{
  "imports": {
    "lucide-react": "https://aistudiocdn.com/lucide-react@^0.554.0",
    "@google/genai": "https://aistudiocdn.com/@google/genai@^1.30.0",
    "react/": "https://aistudiocdn.com/react@^19.2.0/",
    "react": "https://aistudiocdn.com/react@^19.2.0",
    "react-dom/": "https://aistudiocdn.com/react-dom@^19.2.0/",
    "@mediapipe/tasks-vision": "https://cdn.jsdelivr.net/npm/@mediapipe/tasks-vision@0.10.14/+esm"
  }
}
</script>
</head>
  <body>
    <div id="root"></div>
    <script type="module" src="/index.tsx"></script>
  </body>
</html>